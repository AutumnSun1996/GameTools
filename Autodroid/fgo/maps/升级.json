{
  "Name": "升级/出售",
  "Description": "升级/出售",
  "Strategy": {},
  "Scenes": {
    "灵基变还": {
      "Name": "灵基变还",
      "Condition": ["灵基变还"],
      "Actions": [
        {
          "Type": "InnerCall",
          "Condition": [
            "$method",
            "resource_in_screen",
            "灵基变还-金卡"
          ],
          "Target": "wait_mannual",
          "args": ["出售-出现金卡"]
        },
        {
          "Type": "InnerCall",
          "Target": "choose_exp_cards",
          "args": [4, 7]
        },
        {"Type": "Wait", "Time": 1},
        {"Type": "Click", "Target": "选卡-决定"},
        {"Type": "Wait", "Time": 1},
        {"Type": "Click", "Target": "灵基变还-销毁"},
        {"Type": "Wait", "Time": 1},
        {"Type": "Click", "Target": "灵基变还-确认结果"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["灵基变还"]
    },
    "从者强化": {
      "Name": "从者强化",
      "Condition": [
        "$all",
        [["等待选卡"], ["从者强化"], ["$not_", ["前往灵基再临"]]]
      ],
      "Actions": [
        {
          "Type": "InnerCall",
          "Condition": [
            "$all",
            [
              ["$method", "resource_in_screen", "从者满破"],
              ["$method", "resource_in_screen", "从者满级"]
            ]
          ],
          "Target": "wait_mannual",
          "args": ["从者已满级"]
        },
        {"Type": "Click", "Target": "等待选卡"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["从者强化-选卡", "从者强化"]
    },
    "前往灵基再临": {
      "Name": "前往灵基再临",
      "Condition": [
        "$all",
        [["等待选卡"], ["从者强化"], ["前往灵基再临"]]
      ],
      "Actions": [
        {"Type": "Click", "Target": "前往灵基再临"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["灵基再临"]
    },
    "前往从者强化": {
      "Name": "前往从者强化",
      "Condition": ["前往从者强化"],
      "Actions": [
        {"Type": "Click", "Target": "前往从者强化"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["从者强化"]
    },
    "灵基再临": {
      "Name": "灵基再临",
      "Condition": ["$all", [["灵基再临"], ["$not_", ["前往从者强化"]]]],
      "Actions": [
        {
          "Type": "InnerCall",
          "Condition": [
            "$method",
            "resource_in_screen",
            "灵基再临-素材不足"
          ],
          "Target": "wait_mannual",
          "args": ["灵基再临素材不足"]
        },
        {
          "Type": "InnerCall",
          "Condition": [
            "$method",
            "resource_in_screen",
            "灵基再临-未选择"
          ],
          "Target": "wait_mannual",
          "args": ["未选择灵基再临对象"]
        },
        {"Type": "Click", "Target": "强化按钮"},
        {"Type": "Wait", "Time": 1},
        {"Type": "Click", "Target": "强化-决定"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["灵基再临中", "前往从者强化"]
    },
    "从者强化-选卡": {
      "Name": "从者强化-选卡",
      "Condition": ["选卡"],
      "Actions": [
        {
          "Type": "InnerCall",
          "Condition": [
            "$all",
            [
              [
                "$not_",
                ["$method", "resource_in_screen", "EXP金卡"]
              ],
              ["$ne", ["$getattr", ["$"], "section"], "FGO2"]
            ]
          ],
          "Target": "wait_mannual",
          "args": ["金卡不足"]
        },
        {
          "Type": "InnerCall",
          "Target": "choose_exp_cards",
          "args": [3, 7, ["$any", [["LvMAX-金卡"], ["LvMAX-银卡"]]]]
        },
        {"Type": "Wait", "Time": 1},
        {"Type": "Click", "Target": "选卡-决定"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["从者强化-确认", "从者强化-选卡"]
    },
    "从者强化-确认": {
      "Name": "从者强化",
      "Condition": ["$all", [["强化按钮"], ["从者强化"]]],
      "Actions": [
        {"Type": "Click", "Target": "强化按钮"},
        {"Type": "Wait", "Time": 1},
        {"Type": "Click", "Target": "强化-决定"},
        {"Type": "Wait", "Time": 1}
      ],
      "Next": ["强化中", "从者强化", "前往灵基再临"]
    },
    "强化中": {
      "Name": "强化中",
      "Condition": ["$not_", ["从者强化"]],
      "Actions": [
        {"Type": "Click", "Target": "屏幕上方空白区域"},
        {"Type": "Wait", "Time": 0.8}
      ],
      "Next": ["强化中", "前往灵基再临", "从者强化"]
    },
    "灵基再临中": {
      "Name": "灵基再临中",
      "Condition": ["$not_", ["灵基再临"]],
      "Actions": [
        {"Type": "Click", "Target": "屏幕上方空白区域"},
        {"Type": "Wait", "Time": 0.8}
      ],
      "Next": ["灵基再临中", "灵基再临", "前往从者强化"]
    }
  },
  "Resources": {
    "灵基再临-未选择": {
      "Name": "灵基再临-未选择",
      "MainSize": [1280, 720],
      "Offset": [640, 480],
      "Size": [370, 36],
      "Type": "Static",
      "Image": "灵基再临-未选择.png"
    },
    "前往从者强化": {
      "Name": "前往从者强化",
      "MainSize": [1280, 720],
      "Offset": [960, 270],
      "Size": [180, 30],
      "Type": "Static",
      "Image": "前往从者强化.png"
    },
    "灵基再临-素材不足": {
      "Name": "灵基再临-素材不足",
      "MainSize": [1280, 720],
      "Offset": [384, 110],
      "Size": [160, 30],
      "Type": "Static",
      "Image": "灵基再临-素材不足.png"
    },
    "前往灵基再临": {
      "Name": "前往灵基再临",
      "MainSize": [1280, 720],
      "Offset": [972, 540],
      "Size": [160, 40],
      "Type": "Static",
      "Image": "前往灵基再临.png"
    },
    "EXP金卡": {
      "Name": "EXP金卡",
      "MainSize": [1280, 720],
      "Offset": [926, 570],
      "Size": [60, 28],
      "Type": "Static",
      "Image": "EXP金卡.png"
    },
    "LvMAX-金卡": {
      "Name": "LvMAX-金卡",
      "MainSize": [1280, 720],
      "Offset": [900, 660],
      "Size": [80, 40],
      "Type": "Static",
      "Image": "LvMAX-金卡.png"
    },
    "LvMAX-银卡": {
      "Name": "LvMAX-银卡",
      "MainSize": [1280, 720],
      "Offset": [900, 660],
      "Size": [80, 40],
      "Type": "Static",
      "Image": "LvMAX-银卡.png"
    },
    "从者满破": {
      "Name": "从者满破",
      "MainSize": [1280, 720],
      "Offset": [510, 496],
      "Size": [26, 26],
      "Type": "Static",
      "Image": "从者满破.png",
      "MaxDiff": 0.0001
    },
    "从者满级": {
      "Name": "从者满级",
      "MainSize": [1280, 720],
      "Offset": [780, 470],
      "Size": [60, 48],
      "Type": "Static",
      "Image": "从者满级.png",
      "MaxDiff": 0.0001
    },
    "屏幕上方空白区域": {
      "Name": "全屏幕",
      "MainSize": [1280, 720],
      "Offset": [400, 0],
      "Size": [800, 100],
      "Type": "Static"
    },
    "选卡": {
      "Name": "选卡",
      "MainSize": [1280, 720],
      "Offset": [180, 0],
      "Size": [340, 80],
      "Type": "Static",
      "Image": "选卡.png"
    },
    "强化按钮": {
      "Name": "强化按钮",
      "MainSize": [1280, 720],
      "Offset": [1000, 650],
      "Size": [200, 56],
      "Type": "Static",
      "Image": "强化按钮.png"
    },
    "强化-决定": {
      "Name": "强化-决定",
      "MainSize": [1280, 720],
      "Offset": [760, 570],
      "Size": [160, 40],
      "Type": "Static",
      "Image": "强化-决定.png"
    },
    "从者强化": {
      "Name": "从者强化",
      "MainSize": [1280, 720],
      "Offset": [1040, 0],
      "Size": [240, 80],
      "Type": "Static",
      "Image": "从者强化.png"
    },
    "灵基再临": {
      "Name": "灵基再临",
      "MainSize": [1280, 720],
      "Offset": [1040, 0],
      "Size": [240, 80],
      "Type": "Static",
      "Image": "灵基再临.png"
    },
    "灵基变还-金卡": {
      "Name": "灵基变还-金卡",
      "MainSize": [1280, 720],
      "Size": [80, 50],
      "Type": "Dynamic",
      "Image": "灵基变还-金卡.png"
    },
    "灵基变还-销毁": {
      "Name": "灵基变还-销毁",
      "MainSize": [1280, 720],
      "Offset": [760, 560],
      "Size": [160, 50],
      "Type": "Static"
    },
    "灵基变还-确认结果": {
      "Name": "灵基变还-确认结果",
      "MainSize": [1280, 720],
      "Offset": [560, 560],
      "Size": [160, 50],
      "Type": "Static"
    },
    "灵基变还": {
      "Name": "灵基变还",
      "MainSize": [1280, 720],
      "Offset": [1040, 0],
      "Size": [240, 80],
      "Type": "Static",
      "Image": "灵基变还.png"
    },
    "等待选卡": {
      "Name": "等待选卡",
      "MainSize": [1280, 720],
      "Offset": [388, 186],
      "ClickOffset": [10, 20],
      "ClickSize": [840, 160],
      "Size": [90, 100],
      "Type": "Static",
      "Image": "等待选卡.png"
    },
    "选卡-决定": {
      "Name": "选卡-决定",
      "MainSize": [1280, 720],
      "Offset": [1100, 648],
      "Size": [100, 50],
      "Type": "Static"
    },
    "卡位列表": {
      "Name": "卡位列表",
      "MainSize": [1280, 720],
      "Offset": [100, 200],
      "Size": [80, 80],
      "PositionDelta": [133, 143]
    }
  }
}